Suppose you have two points ğ‘=(ğ‘¥ğ‘,ğ‘¦ğ‘)
 and ğ‘=(ğ‘¥ğ‘,ğ‘¦ğ‘)
. Let's denote the Manhattan distance between them as ğ‘‘(ğ‘,ğ‘)=|ğ‘¥ğ‘âˆ’ğ‘¥ğ‘|+|ğ‘¦ğ‘âˆ’ğ‘¦ğ‘|
.

Let's say that three points ğ‘
, ğ‘
, ğ‘Ÿ
 form a bad triple if ğ‘‘(ğ‘,ğ‘Ÿ)=ğ‘‘(ğ‘,ğ‘)+ğ‘‘(ğ‘,ğ‘Ÿ)
.

Let's say that an array ğ‘1,ğ‘2,â€¦,ğ‘ğ‘š
 is good if it is impossible to choose three distinct indices ğ‘–
, ğ‘—
, ğ‘˜
 such that the points (ğ‘ğ‘–,ğ‘–)
, (ğ‘ğ‘—,ğ‘—)
 and (ğ‘ğ‘˜,ğ‘˜)
 form a bad triple.

You are given an array ğ‘1,ğ‘2,â€¦,ğ‘ğ‘›
. Calculate the number of good subarrays of ğ‘
. A subarray of the array ğ‘
 is the array ğ‘ğ‘™,ğ‘ğ‘™+1,â€¦,ğ‘ğ‘Ÿ
 for some 1â‰¤ğ‘™â‰¤ğ‘Ÿâ‰¤ğ‘›
.

Note that, according to the definition, subarrays of length 1
 and 2
 are good.

### ideas
1. bad ï¼Œå°±æ˜¯å“ˆå¯¹äºä¸‰ä¸ªç‚¹æ¥è¯´ï¼Œä¸€ä¸ªç‚¹ä½äºå¦å¤–ä¸¤ä¸ªç‚¹ç»„æˆçš„é•¿æ–¹å½¢ä¸­
2. b1, b2, ... bm
3. is good if no bad ä¸‰å…ƒç»„ (i < j < k)
4. é‚£ä¹ˆå°±æ˜¯ b[j] < min(b[i], b[k]) æˆ–è€… b[j] > max(b[i], b[k])
5. é‚£ä¹ˆè€ƒè™‘ 1, m, æ‰€æœ‰çš„å…¶ä»–çš„b[i]éƒ½åœ¨1...mçš„ä¸Šé¢æˆ–è€…ä¸‹é¢
6. è¿™é‡Œä¸å¦¨è®¾ b[1] < b[m]
7. b[2] > b[m], b[3] > b[2] (ä½†æ˜¯è¿™é‡Œå°±æœ‰é—®é¢˜äº†)
8. é‚£ä¹ˆ1...3 æ‰€å½¢æˆçš„åŒºåŸŸï¼Œå°±åŒ…æ‹¬äº†2äº†ã€‚ æ‰€ä»¥ b[3] < b[1]ï¼Œ ä½†æ˜¯è¿™æ—¶ï¼Œè²Œä¼¼ä¸èƒ½4 != m äº†å§ã€‚
9. å¦‚æœå­˜åœ¨ï¼Œ b[4] < b[3], ä¼šé€ æˆ3åœ¨1...4çš„åŒºåŸŸå†…ï¼Œè¦ä¹ˆb[4] > b[2], é€ æˆ2åœ¨1ï¼Œ4çš„åŒºåŸŸå†…
10. ä¹Ÿå°±æ˜¯è¯´m, æœ€å¤šæ˜¯4
11. å¦‚æœm = 2, å¾ˆå¥½ç»“æœï¼Œ å¦‚æœ m = 3, ä¹Ÿæ¯”è¾ƒå¥½è§£å†³ï¼Œå°±æ˜¯æ‰¾åˆ°å‰é¢æ¯”a[r]å¤§çš„ï¼Œåœ¨rå‰é¢æœ‰å¤šå°‘ < a[r]çš„å³å¯
12. m = 4, è¿™ä¸ªè¦æ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿ
13. a, b, c, d é‚£ä¹ˆd å¿…é¡»å¤„åœ¨(b, c)çš„ä¸­é—´ï¼Œ ä¸”aä¹Ÿå¿…é¡»å¤„åœ¨(b, c)çš„ä¸­é—´
14. ä½†æ˜¯æ˜¾ç„¶æ˜¯ä¸èƒ½è¿­ä»£(b, c)çš„ï¼Œå¤ªæ…¢äº†
15. subarrayæ˜¯è¿ç»­çš„
16. é‚£å°±ç®€å•äº†
17. 
    