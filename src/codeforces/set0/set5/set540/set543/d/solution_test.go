package main

import (
	"reflect"
	"testing"
)

func runSample(t *testing.T, n int, P []int, expect []int) {
	res := solve(n, P)

	if !reflect.DeepEqual(res, expect) {
		t.Fatalf("Sample expect %v, but got %v", expect, res)
	}
}

func TestSample1(t *testing.T) {
	n := 3
	P := []int{1, 1}
	expect := []int{4, 3, 3}
	runSample(t, n, P, expect)
}

func TestSample2(t *testing.T) {
	n := 5
	P := []int{1, 2, 3, 4}
	expect := []int{5, 8, 9, 8, 5}
	runSample(t, n, P, expect)
}

func TestSample3(t *testing.T) {
	n := 70
	P := []int{1, 2, 2, 4, 4, 6, 6, 8, 9, 9, 11, 11, 13, 13, 15, 15, 17, 17, 19, 19, 21, 22, 22, 24, 24, 26, 27, 27, 29, 29, 31, 31, 33, 34, 34, 36, 37, 37, 39, 39, 41, 42, 42, 44, 44, 46, 47, 47, 49, 50, 50, 52, 52, 54, 54, 56, 57, 57, 59, 60, 60, 62, 63, 63, 65, 65, 67, 68, 68}
	expect := []int{0, 1000000005, 0, 499999996, 249999999, 749999986, 374999994, 874999963, 999999938, 499999970, 62499881, 531249945, 93749781, 546874895, 109374581, 554687295, 117186681, 558593345, 121092131, 560546070, 123043656, 124995179, 562497594, 125968539, 562984274, 126450416, 126932291, 563466150, 127163621, 563581815, 127260071, 563630040, 127269866, 127279659, 563639834, 127207694, 127135727, 563567868, 126946019, 563473014, 126543716, 126141411, 563070710, 125325359, 562662684, 123687534, 122049707, 561024858, 118771194, 115492679, 557746344, 108934221, 554467115, 95816591, 547908300, 69580974, 43345355, 521672682, 990873947, 938402530, 469201266, 833459609, 728516686, 364258344, 518630798, 259315400, 98859001, 679087209, 839543609, 839543609}
	runSample(t, n, P, expect)
}
