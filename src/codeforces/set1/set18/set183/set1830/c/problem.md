You are given an integer ğ‘›
and ğ‘˜
intervals. The ğ‘–
-th interval is [ğ‘™ğ‘–,ğ‘Ÿğ‘–]
where 1â‰¤ğ‘™ğ‘–â‰¤ğ‘Ÿğ‘–â‰¤ğ‘›
.

Let us call a regular bracket sequenceâ€ ,â€¡
of length ğ‘›
hyperregular if for each ğ‘–
such that 1â‰¤ğ‘–â‰¤ğ‘˜
, the substring ğ‘ ğ‘™ğ‘–ğ‘ ğ‘™ğ‘–+1â€¦ğ‘ ğ‘Ÿğ‘–â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
is also a regular bracket sequence.

Your task is to count the number of hyperregular bracket sequences. Since this number can be really large, you are only
required to find it modulo 998244353
.

â€ 
A bracket sequence is a string containing only the characters "(" and ")".

â€¡
A bracket sequence is called regular if one can turn it into a valid math expression by adding characters + and 1. For
example, sequences (())(), (), (()(())) and the empty string are regular, while )(, ((), and (()))( are not.

### thoughts

1. æ˜¾ç„¶nå’ŒåŒºé—´çš„é•¿åº¦éƒ½å¿…é¡»æ˜¯å¶æ•°
2. å¯¹äºåŒºé—´[l..r]æ¥è¯´ï¼Œè¦æ±‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªregularçš„ï¼Œå¦‚æœå•ç‹¬å¤„ç†å®ƒçš„è¯ï¼Œä¼¼ä¹ä¹ŸæŒºéš¾çš„ï¼Œå…ˆå‡è®¾æœ‰åŠæ³•å¤„ç†
3. å¦‚æœä¸¤ä¸ªåŒºé—´æ²¡æœ‰é‡å ï¼Œé‚£å°±å•ç‹¬å¤„ç†åï¼Œå†ç›¸ä¹˜
4. å¦‚æœæœ‰é‡å ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼Œå®Œå…¨åŒ…å«ï¼Œé‚£ä¹ˆç›¸å½“äºåˆ†æˆä¸¤å—ï¼Œå†…éƒ¨å’Œå‰©ä½™çš„éƒ¨åˆ†åˆ†åˆ«è¦regular
5. æœ‰éƒ¨åˆ†é‡å å‘¢ï¼Ÿåˆ†æˆ3æ®µå—ï¼Ÿæœ‰æ²¡æœ‰å¯èƒ½ä¸­é—´çš„ä¸æ˜¯regularï¼Œä½†æ˜¯åˆå¹¶åœ¨ä¸€èµ·åregularäº†ï¼Ÿ
6. ä¸å¯èƒ½ï¼Œå‡è®¾ä¸­åŠ çš„éregularï¼Œå·¦æ‹¬å·æ¯”å³æ‹¬å·å¤šxä¸ªï¼Œé‚£ä¹ˆå¯¹äºä»¥å®ƒä¸ºsuffixçš„é‚£ä¸ªæ¥è¯´ï¼Œå®ƒå‰é¢éƒ¨åˆ†ï¼Œå¿…é¡»å¤šxä¸ªå³æ‹¬å·ï¼Œè¿™ä¸ªå°†é€ æˆå®ƒä¸æ˜¯ä¸€ä¸ªregular
7. æ‰€ä»¥ï¼Œåˆ†æˆäº†3éƒ¨åˆ†
8. æœ€åçš„ç»“æœå°±æ˜¯åˆ†æˆäº†éé‡å çš„å’Œæœ€åå‰©ä½™çš„ä¸€ä¸ªéƒ¨åˆ†
9. ç°åœ¨è®¡ç®—å¯¹äºç»™å®šé•¿åº¦çš„nï¼Œå¦‚ä½•ä¿è¯å®ƒæ˜¯regularçš„è®¡æ•°ï¼Ÿ
10. dp[n] = ï¼Ÿ
11. dp[0] = 1, dp[2] = 1, dp[4] = 2 ()() (())
12. dp[n + 2] = å…ˆæ”¾å·¦è¾¹çš„æ‹¬å· è¿™é‡Œä¸€å…±æœ‰n + 1ä¸ªä½ç½®, ç„¶åæ”¾å³æ‹¬å·çš„ä½ç½®, éœ€è¦å°†å³æ‹¬å·æ”¾ç½®åœ¨å·¦æ‹¬å·çš„åé¢
13. ä¸å¯¹ã€‚è¿™æ ·å­è¦æ±‚ dp[n]å¿…é¡»æ˜¯regularçš„ï¼Œä½†æ˜¯å¯¹äºn+2æ¥è¯´ï¼Œnä¸ªé•¿åº¦ä¸ä¸€å®šæ˜¯regularçš„
14. å·¦æ‹¬å·+1, å³æ‹¬å·-1, é‚£ä¹ˆå°±æ˜¯è¦ pref[n] = 0
15. dp[i][x] = åœ¨ç¬¬iä½æ—¶sum = xçš„è®¡æ•°
16. dp[i+1][x+1] = dp[i][x] + dp[i][x+2]
17. è¿™æ ·å­æ˜¯ n * n çš„ï¼Œ pass
18. æŠŠå·¦æ‹¬å·çœ‹æˆå‘å³ç§»åŠ¨ï¼Œå³æ‹¬å·çœ‹åšå‘ä¸‹ç§»åŠ¨ï¼Œä¸è€ƒè™‘å…¶ä»–çš„é™åˆ¶ï¼Œå°±æ˜¯ä»(1, 1) ç§»åŠ¨åˆ° (n, n)çš„è·ç¦»
19. è¿™ä¸ªç­”æ¡ˆæ˜¯C(n + n, n)
20. ä½†æ˜¯æœ‰ä¸ªé™åˆ¶æ˜¯å¿…é¡»åªèƒ½åœ¨ä¸ŠåŠåŒºåŸŸç§»åŠ¨ï¼Œè¿™ä¸ªå…¬å¼æˆ‘çœ‹åˆ°è¿‡ Catalan number
21. C_n = (2n)! / ((n + 1)! * n!)