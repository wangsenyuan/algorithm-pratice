å° C æ˜¯ä¸€ä¸ªç®—æ³•ç«èµ›çˆ±å¥½è€…ï¼Œæœ‰ä¸€å¤©å° C é‡åˆ°äº†ä¸€ä¸ªéå¸¸éš¾çš„é—®é¢˜ï¼šæ±‚ä¸€ä¸ªåºåˆ—çš„æœ€å¤§å­æ®µå’Œã€‚

ä½†æ˜¯å° C å¹¶ä¸ä¼šåšè¿™ä¸ªé¢˜ï¼Œäºæ˜¯å° C å†³å®šæŠŠåºåˆ—éšæœºæ‰“ä¹±ï¼Œç„¶åå–åºåˆ—çš„æœ€å¤§å‰ç¼€å’Œä½œä¸ºç­”æ¡ˆã€‚

å° C æ˜¯ä¸€ä¸ªéå¸¸æœ‰è‡ªçŸ¥ä¹‹æ˜çš„äººï¼Œä»–çŸ¥é“è‡ªå·±çš„ç®—æ³•å®Œå…¨ä¸å¯¹ï¼Œæ‰€ä»¥å¹¶ä¸å…³å¿ƒæ­£ç¡®ç‡ï¼Œä»–åªå…³å¿ƒæ±‚å‡ºçš„è§£çš„æœŸæœ›å€¼ï¼Œç°åœ¨è¯·ä½ å¸®ä»–è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤æ‚ï¼Œæ‰€ä»¥ä½ åªéœ€è¦è¾“å‡ºç­”æ¡ˆä¹˜ä¸Š 
ğ‘›
!
n! åå¯¹ 
998244353
998244353 å–æ¨¡çš„å€¼ï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸ªæ•´æ•°ã€‚

æ³¨ï¼šæœ€å¤§å‰ç¼€å’Œçš„å®šä¹‰ï¼š
âˆ€
ğ‘–
âˆˆ
[
1
,
ğ‘›
]
âˆ€iâˆˆ[1,n]ï¼Œ
âˆ‘
ğ‘—
=
1
ğ‘–
ğ‘
ğ‘—
âˆ‘ 
j=1
i
â€‹
 a 
j
â€‹
 çš„æœ€å¤§å€¼ã€‚


 ### ideas
 
 1. éš¾é“å°±æ˜¯brute forceï¼Ÿ
 2. dp[state] è¡¨ç¤ºstateä»£è¡¨çš„æœŸæœ›å€¼
 3. dp[next] = max(dp[state], sum(next state ä»£è¡¨çš„æ•°å­—))
 4. è¿™ä¸ªä¸å¯¹ï¼Œ å› ä¸º dp[state]ä»£è¡¨çš„æ˜¯æœŸæœ›å€¼ï¼Œå’Œè¿™ä¸ªsumä¸€è‡´å—ï¼Ÿ
 5. å¦‚æœæ‰€æœ‰çš„æ•°å­—a[i] >= 0, dp[state] = sum(of state)
 6. dp[state] è¡¨ç¤ºèƒ½å¤Ÿç”¨stateè¡¨ç¤ºçš„æœ€é•¿å‰ç¼€å’Œçš„æœŸæœ›å€¼
 7. dp[next] = åŠ å…¥ä¸€ä¸ªæ–°çš„a[i]ï¼Œå¦‚æœa[i] >= 0, dp[next] = dp[state] + a[i]
 8. å¦åˆ™çš„è¯ï¼Œ dp[next] = dp[state]